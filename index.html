<!DOCTYPE html>
<html lang="en">
<head>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5F2MS464');</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Dynamic Fractal Cosmological Model (DFCM)</title>

    <meta name="description" content="Discover the Dynamic Fractal Cosmological Model (DFCM), a new paradigm that resolves major tensions in modern cosmology, including the Hubble tension and Lithium-7 problem, and offers a 7.1σ statistical improvement over ΛCDM.">
    <meta name="keywords" content="cosmology, fractal, cosmological model, DFCM, Hubble tension, Lithium-7 problem, dark matter, dark energy, Friedmann equations, ΛCDM, Big Bang Nucleosynthesis, cosmic acceleration, galaxy clustering, redshift, BBN, Planck, DESI, SNIa, Pantheon+, cosmic chronometers, CMB, matter power spectrum">
    <meta name="author" content="Sylvain Herbin">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://phi-z.space/">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://phi-z.space/">
    <meta property="og:title" content="The Dynamic Fractal Cosmological Model (DFCM) - A New Paradigm in Cosmology">
    <meta property="og:description" content="Discover DFCM, a groundbreaking cosmological model that introduces an evolving spacetime dimension φ(z) to naturally resolve the Hubble tension, Lithium-7 problem, and large-scale structure tensions, achieving a 7.1σ improvement over ΛCDM.">
    <meta property="og:image" content="https://phi-z.space/images/dfcm-og-image.jpg">
    <meta property="og:image:alt" content="Conceptual image representing the evolving spacetime dimension in DFCM">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://phi-z.space/">
    <meta name="twitter:title" content="The Dynamic Fractal Cosmological Model (DFCM)">
    <meta name="twitter:description" content="DFCM: A new cosmological model resolving the Hubble and Lithium-7 tensions, achieving a 7.1σ statistical improvement over ΛCDM with an evolving spacetime dimension.">
    <meta name="twitter:image" content="https://phi-z.space/images/dfcm-twitter-image.jpg">
    <meta name="twitter:creator" content="@YourTwitterHandle">
    <meta name="twitter:site" content="@YourTwitterHandle">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="style.css">
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5F2MS464"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <div class="stars" id="stars"></div>

    <div class="container">
        <header>
            <a href="#" class="logo" onclick="showPage('home')">
                <span class="logo-symbol">φ(z)</span>
                <span>.space</span>
            </a>
            <nav>
                <ul>
                    <li><a href="#" class="active" onclick="showPage('home')">Home</a></li>
                    <li><a href="#" onclick="showPage('tensions')">Tensions Solved</a></li>
                    <li><a href="#" onclick="showPage('predictions')">Predictions</a></li>
                    <li><a href="#" onclick="showPage('glossary')">Glossary</a></li>
                    <li><a href="#" onclick="showPage('ai_assistant')">AI Assistant</a></li>
                </ul>
            </nav>
        </header>

        <div id="home" class="page active">
            <section class="hero">
                <h1>The Dynamic Fractal Cosmological Model</h1>
                <p>Discover a new paradigm that resolves the greatest tensions in modern cosmology. By introducing an **evolving spacetime dimension**, DFCM accurately predicts the Universe's expansion, the formation of cosmic structures, and achieves a <strong>7.1σ statistical improvement</strong> over the standard &Lambda;CDM model.</p>
                <a href="https://doi.org/10.5281/zenodo.15973540" target="_blank" class="btn btn-download">
                    <i class="fas fa-rocket"></i>
                    <span>Explore the Full Paper</span>
                    <span class="btn-glow"></span>
                </a>
            </section>

            <section class="model-section">
                <h2 class="section-title">Fundamental Principles of DFCM</h2>
                <div class="model-grid">
                    <div class="model-card">
                        <i class="fas fa-wave-square"></i>
                        <h3>Evolving Spacetime Dimension $\phi(z)$</h3>
                        <p>The model's core is the **dynamic fractal dimension of spacetime, $\phi(z)$**. It evolves with redshift from a primordial value ($\phi_{BBN}=2.970$) to a present-day value near the golden ratio ($\phi_{\infty}=1.618$), governing all cosmic dynamics and influencing key cosmological eras from BBN to today.</p>
                    </div>

                    <div class="model-card">
                        <i class="fas fa-rocket"></i>
                        <h3>Modified Cosmic Dynamics</h3>
                        <p>This evolving dimension is embedded in the Friedmann equations, altering the Universe's expansion history. This naturally explains cosmic acceleration without a separate dark energy component and provides a superior fit to observational data.</p>
                    </div>

                    <div class="model-card">
                        <i class="fas fa-atom"></i>
                        <h3>Novel Dark Matter-Baryon Coupling</h3>
                        <p>DFCM introduces a new **coupling between dark matter and baryons**, governed by $\phi(z)$. This interaction modifies the growth of large-scale structures, precisely explaining the observed galaxy distribution and the deficit of massive galaxy clusters.</p>
                    </div>
                </div>
            </section>

            <section class="model-section">
                <h2 class="section-title">Physical Insights of DFCM</h2>
                <p style="text-align: center; max-width: 800px; margin: 0 auto; color: var(--text-secondary);">
                    The Dynamic Fractal Cosmological Model (DFCM) redefines our understanding of the Universe by introducing a spacetime that evolves in complexity. The **fractal dimension $\phi(z)$** transitions from a primordial value of 2.970 during the Big Bang Nucleosynthesis (BBN) era to the golden ratio (1.618) in the present day. This evolution naturally explains cosmic acceleration, resolves the Hubble tension, and aligns with observations of galaxy clustering without requiring exotic dark energy. This evolution is driven by a **scalar field** emerging from fractal metric fluctuations, leading to a cosmic phase transition where spacetime's geometry adapts to the Universe's expansion.
                </p>
                <div class="model-grid">
                    <div class="model-card">
                        <i class="fas fa-star"></i>
                        <h3>Cosmic Phase Transition</h3>
                        <p>The shift in $\phi(z)$ reflects a **cosmic phase transition**, akin to water freezing into ice, where spacetime's geometry adapts to the Universe's expansion. This is driven by a scalar field that emerges from fractal metric fluctuations.</p>
                    </div>
                    <div class="model-card">
                        <i class="fas fa-globe"></i>
                        <h3>Unified Dynamics</h3>
                        <p>By embedding $\phi(z)$ in the Friedmann equations, DFCM unifies the expansion history and structure formation, offering a single framework to explain both early and late Universe phenomena, including the dynamic dark energy equation of state ($w_{\Lambda}(z) = -1 + 0.2(\phi(z) - 1.618)$).</p>
                    </div>
                </div>
            </section>

            <section class="model-section">
                <h2 class="section-title">The Central Equation</h2>
                <p style="text-align: center; max-width: 800px; margin: 0 auto; color: var(--text-secondary);">
                    The expansion of the Universe in DFCM is described by a modified Friedmann equation where the exponents depend on the dynamic fractal dimension $\phi(z)$. This equation allows for a **precise calculation of the sound horizon** and other critical cosmic parameters, validated by a **global MCMC optimization** process against observational data.
                </p>
                <div class="equation-box">
                    $$ H^2(z) = H_0^2\left[\Omega_m(1+z)^{3\phi(z)} + \Omega_\Lambda(1+z)^{3(2-\phi(z))}\right] $$
                </div>
                <img src="figures/phi_z_epochs.png" alt="Graph of phi(z) evolution across cosmic epochs" style="max-width: 100%; height: auto; display: block; margin: 20px auto;">
                <p style="text-align: center; font-size: 0.9em; color: var(--text-secondary);">
                    Figure: Dynamic evolution of the fractal dimension $\phi(z)$ from the primordial Big Bang Nucleosynthesis (BBN) era ($\phi_{\text{BBN}} = 2.970$) to the late-time Universe ($\phi_\infty = 1.618$). The transition includes subtle features to precisely fit observational data.
                </p>
            </section>

            <section class="model-section">
                <h2 class="section-title">Goodness-of-Fit Results</h2>
                <p style="text-align: center; max-width: 800px; margin: 0 auto 40px; color: var(--text-secondary);">
                    The Dynamic Fractal Cosmological Model demonstrates exceptional agreement with observational data across multiple cosmological probes. The table below summarizes the $\chi^2/\text{dof}$ values, showcasing a remarkable 7.1σ improvement over the standard $\Lambda$CDM model.
                </p>
                <div class="futuristic-table">
                    <table>
                        <thead>
                            <tr>
                                <th>Cosmological Probe</th>
                                <th>$\chi^2/\text{dof}$</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Pantheon+ SNIa</td>
                                <td>0.613</td>
                                <td>Exceptional fit to Type Ia Supernovae, confirming the model's accuracy in predicting luminosity distances.</td>
                            </tr>
                            <tr>
                                <td>BAO (DESI EDR)</td>
                                <td>0.939</td>
                                <td>Accurate fit to Baryon Acoustic Oscillations, aligning with DESI data and resolving sound horizon discrepancies.</td>
                            </tr>
                            <tr>
                                <td>Cosmic Chronometers</td>
                                <td>0.997</td>
                                <td>Robust fit to Hubble parameter measurements, supporting the modified expansion history.</td>
                            </tr>
                            <tr>
                                <td>CMB (Planck)</td>
                                <td>1.475</td>
                                <td>Addresses low-$\ell$ anomalies in the CMB power spectrum with a power suppression of $\mathcal{S}=0.93\pm0.02$.</td>
                            </tr>
                            <tr>
                                <td>Galaxy 2PCF</td>
                                <td>0.717</td>
                                <td>Precise match to galaxy correlation functions, capturing redshift-dependent structure growth.</td>
                            </tr>
                            <tr>
                                <td>Cluster Mass Function</td>
                                <td>1.228</td>
                                <td>Resolves the deficit of massive galaxy clusters at $z \sim 0.6$, predicting an 18.2% &pm; 2.3% reduction.</td>
                            </tr>
                            <tr>
                                <td>Combined (Selected Probes)</td>
                                <td>0.951</td>
                                <td>Overall fit across BAO, CMB, 2PCF, and clusters, achieving a 7.1σ improvement over $\Lambda$CDM.</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <section class="model-section">
                <h2 class="section-title">Interactive Visualizations</h2>
                <p style="text-align: center; max-width: 800px; margin: 0 auto 40px; color: var(--text-secondary);">
                    Explore the evolution of the fractal dimension $\phi(z)$ across cosmic time, from the Big Bang to the present day.
                </p>
                <div style="max-width: 800px; margin: 0 auto;">
                    <canvas id="phiZChart"></canvas>
                </div>
            </section>
        </div>

        <div id="tensions" class="page">
            <section class="hero">
                <h1>Resolving Key Cosmological Tensions</h1>
                <p>The standard model of cosmology ($\Lambda$CDM) faces several critical challenges. DFCM offers natural and precise solutions, significantly reducing the discrepancies between various observational measurements.</p>
            </section>

            <section class="model-section">
                <div class="model-grid">
                    <div class="model-card">
                        <i class="fas fa-ruler-combined"></i>
                        <h3>The Hubble Constant ($H_0$) Tension</h3>
                        <p><strong>Problem:</strong> The Universe's expansion rate measured locally (fast) significantly disagrees with the rate inferred from the early Universe (slow), a discrepancy of over 5σ in $\Lambda$CDM.</p>
                        <p><strong>DFCM Solution:</strong> The modified expansion history naturally bridges this gap. DFCM predicts $H_0 = 73.24 \pm 0.42$ km/s/Mpc, aligning with local SH0ES measurements at an unprecedented <strong>0.3σ</strong> level. This is achieved through a scale-dependent modification to the effective expansion rate.</p>
                        <img src="figures/hubble_tension.png" alt="Hubble tension resolution graph" style="max-width: 100%; height: auto; margin-top: 15px;">
                        <p style="text-align: center; font-size: 0.85em; color: var(--text-secondary);">Figure: Our model prediction ($73.24$ km/s/Mpc) aligns with SH0ES at 0.3σ, resolving the Hubble tension.</p>
                    </div>
                    <div class="model-card">
                        <i class="fas fa-atom"></i>
                        <h3>The Lithium-7 Problem</h3>
                        <p><strong>Problem:</strong> $\Lambda$CDM predicts 3-4 times more primordial Lithium-7 than is observed in ancient stars, indicating an inconsistency in early Universe physics.</p>
                        <p><strong>DFCM Solution:</strong> By setting a specific primordial fractal dimension ($\phi_{BBN} = 2.970$) for redshifts $z \geq 10000$, the model alters nuclear reaction rates during Big Bang Nucleosynthesis (BBN). This brings the predicted Lithium-7 abundance into <strong>1.8σ agreement</strong> with observations, effectively resolving this long-standing puzzle.</p>
                    </div>
                    <div class="model-card">
                        <i class="fas fa-galaxy"></i>
                        <h3>Large-Scale Structure (LSS) Tensions</h3>
                        <p><strong>Problem:</strong> $\Lambda$CDM predicts more massive galaxy clusters than are observed and struggles with precisely describing the distribution of galaxies across cosmic scales.</p>
                        <p><strong>DFCM Solution:</strong> The novel dark matter-baryon coupling and the evolving fractal dimension suppress the formation of the most massive structures. DFCM predicts a cluster deficit of **18.2% &pm; 2.3%** at $z \sim 0.6$, consistent with observations, and provides a superior fit to galaxy correlation functions (e.g., SDSS DR17 and DESI EDR data).</p>
                        <img src="figures/cluster_mass_function.png" alt="Cluster mass function graph" style="max-width: 100%; height: auto; margin-top: 15px;">
                        <p style="text-align: center; font-size: 0.85em; color: var(--text-secondary);">Figure: DFCM predicts a 15-20% deficit of massive clusters at $z > 0.5$ compared to $\Lambda$CDM, resolving the tension.</p>
                    </div>
                    <div class="model-card">
                        <i class="fas fa-temperature-high"></i>
                        <h3>CMB Low-$\ell$ Anomaly</h3>
                        <p><strong>Problem:</strong> The Cosmic Microwave Background (CMB) power spectrum at low multipoles ($\ell < 30$) shows less power than predicted by $\Lambda$CDM, indicating an issue with early Universe large-scale anisotropies.</p>
                        <p><strong>DFCM Solution:</strong> The model predicts a power suppression of $\mathcal{S}=0.93\pm0.02$ at these low multipoles. This quantitatively aligns with the observed low-$\ell$ anomaly in the CMB temperature anisotropy spectrum, providing a better fit to Planck data ($\chi^2/\text{dof} = 1.475$).</p>
                        <img src="figures/cmb_spectrum.png" alt="CMB spectrum graph" style="max-width: 100%; height: auto; margin-top: 15px;">
                        <p style="text-align: center; font-size: 0.85em; color: var(--text-secondary);">Figure: CMB spectrum showing fractal corrections at $\ell<30$, leading to better agreement with Planck data.</p>
                    </div>
                </div>
            </section>
        </div>

        <div id="predictions" class="page">
            <section class="hero">
                <h1>Testable Predictions for Future Surveys</h1>
                <p>A robust cosmological model must make falsifiable predictions. DFCM offers distinct signatures that will be tested by the next generation of astronomical instruments, providing opportunities for independent validation or falsification.</p>
            </section>

            <section class="model-section">
                <h2 class="section-title">Matter Power Spectrum Deviations</h2>
                <p style="text-align: center; max-width: 800px; margin: 0 auto 40px; color: var(--text-secondary);">
                    DFCM predicts specific, measurable deviations in the clustering of matter compared to &Lambda;CDM. These deviations will be crucial targets for upcoming galaxy surveys, offering a direct test of the model's structure formation predictions. The predicted ratio is given by:
                </p>
                <div class="equation-box">
                    $$ \frac{P_{\text{fractal}}(k,z)}{P_{\Lambda\text{CDM}}(k,z)} = \left(\frac{\phi(z)}{1.62}\right)^{1.8} e^{-(k/k_0)^2} $$
                </div>
                <p style="text-align: center; max-width: 800px; margin: 0 auto 40px; color: var(--text-secondary);">
                    Where $k_0 = 0.02$ h/Mpc. Predicted deviations for key upcoming surveys:
                </p>
                <div class="futuristic-table">
                    <table>
                        <thead>
                            <tr>
                                <th>Survey</th>
                                <th>Redshift Range</th>
                                <th>k-range [h/Mpc]</th>
                                <th>Predicted Deviation</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Euclid (spectro)</td>
                                <td>0.9-1.8</td>
                                <td>0.005-0.1</td>
                                <td>+8.2% &pm; 0.9%</td>
                            </tr>
                            <tr>
                                <td>Roman HLS</td>
                                <td>1.5-2.8</td>
                                <td>0.003-0.05</td>
                                <td>+12.7% &pm; 1.2%</td>
                            </tr>
                            <tr>
                                <td>DESI-II</td>
                                <td>2.5-4.0</td>
                                <td>0.001-0.03</td>
                                <td>+18.3% &pm; 2.1%</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <section class="model-section">
                <h2 class="section-title">CMB Spectral $\mu$-Distortions</h2>
                <p style="text-align: center; max-width: 800px; margin: 0 auto 40px; color: var(--text-secondary);">
                    The **cosmic phase transition** proposed in DFCM, particularly at redshifts around $z \sim 10^4$, should leave a faint but detectable imprint on the Cosmic Microwave Background's (CMB) blackbody spectrum in the form of **$\mu$-distortions**. These distortions are tiny deviations from a perfect blackbody.
                </p>
                <p style="text-align: center; max-width: 800px; margin: 0 auto 40px; color: var(--text-secondary);">
                    The model predicts a specific signal amplitude of **$\mu = (1.7 \pm 0.3) \times 10^{-8}$**.
                </p>
                <p style="text-align: center; max-width: 800px; margin: 0 auto 40px; color: var(--text-secondary);">
                    This subtle signal is potentially detectable by a future mission like the **PIXIE** (Primordial Inflation Explorer) satellite, providing a definitive and independent test of the model's early-universe physics and the existence of the proposed cosmic phase transition.
                </p>
            </section>
        </div>

        <div id="glossary" class="page">
            <section class="hero">
                <h1>Glossary</h1>
                <p>Understanding the cosmos requires a special vocabulary. Here are simple definitions for key terms used in this website, expanded to cover the DFCM model in detail.</p>
            </section>
            <dl class="glossary-list">
                <dt>Redshift (z)</dt>
                <dd>A measure of how much the light from a distant object has been stretched (shifted towards redder wavelengths) by the expansion of the Universe. A higher redshift means an object is farther away and its light was emitted longer ago, so we see it as it was in the past.</dd>
                <dt>Hubble Constant ($H_0$)</dt>
                <dd>The current rate at which the Universe is expanding. Its precise value is a major point of contention in modern cosmology (the "Hubble Tension"). DFCM provides a value that aligns with local measurements.</dd>
                <dt>&Lambda;CDM (Lambda-CDM)</dt>
                <dd>The standard model of cosmology. It assumes the Universe is made of normal matter (baryons), "Cold Dark Matter" (CDM), and a cosmological constant "Lambda" (&Lambda;) that represents dark energy and drives cosmic acceleration. Despite its successes, it faces several unresolved tensions with observations.</dd>
                <dt>Baryon Acoustic Oscillations (BAO)</dt>
                <dd>Sound waves that propagated through the early Universe when it was a hot, dense plasma. These waves left a characteristic imprint on the distribution of matter, creating a "standard ruler" that cosmologists use to measure cosmic distances and the expansion history of the Universe.</dd>
                <dt>Big Bang Nucleosynthesis (BBN)</dt>
                <dd>The period in the early Universe (a few minutes after the Big Bang) when the first light elements (Hydrogen, Helium, Lithium, etc.) were formed through nuclear fusion. The predicted abundances of these elements must match observations for a cosmological model to be valid.</dd>
                <dt>Cosmic Microwave Background (CMB)</dt>
                <dd>The faint afterglow of the Big Bang, a nearly uniform bath of microwave radiation that fills the entire sky. It was emitted when the Universe became transparent (around 380,000 years old) and provides a snapshot of the early cosmos, containing crucial information about its composition and evolution.</dd>
                <dt>Chi-Squared ($\chi^2$)</dt>
                <dd>A statistical measure used to assess how well a theoretical model's predictions fit observed data. A lower value of $\chi^2$ per degree of freedom (dof) indicates a better agreement between the model and the observations. DFCM significantly reduces this value compared to &Lambda;CDM.</dd>
                <dt>Dark Matter</dt>
                <dd>A mysterious form of matter that does not interact with light or other electromagnetic radiation, making it invisible to telescopes. Its presence is inferred from its gravitational effects on visible matter, such as the rotation of galaxies and the clustering of galaxy clusters. In DFCM, it has a novel coupling with baryons.</dd>
                <dt>Dark Energy</dt>
                <dd>A hypothetical form of energy that is thought to be responsible for the observed accelerating expansion of the Universe. In &Lambda;CDM, it is represented by the cosmological constant (&Lambda;). In DFCM, its effect is intrinsically linked to the evolving fractal dimension of spacetime through a dynamic equation of state.</dd>
                <dt>Fractal Dimension ($\phi(z)$)</dt>
                <dd>A mathematical concept that quantifies the complexity of an object or space. Unlike simple integer dimensions (like 1D for a line, 2D for a surface, 3D for a volume), a fractal dimension can be a non-integer, describing irregular and self-similar shapes. In DFCM, this property applies to spacetime itself, and it dynamically evolves with redshift.</dd>
                <dt>Friedmann Equations</dt>
                <dd>A set of fundamental equations in physical cosmology that describe the expansion of space in homogeneous and isotropic models of the Universe. In DFCM, these equations are modified to include the evolving fractal dimension, which fundamentally changes how we describe cosmic expansion.</dd>
                <dt>Luminosity Distance ($D_L(z)$)</dt>
                <dd>A measure of distance used in astronomy that relates the intrinsic brightness of an object to its observed apparent brightness. It is crucial for understanding the expansion history of the Universe, particularly through observations of Type Ia Supernovae.</dd>
                <dt>Matter Power Spectrum ($P(k,z)$)</dt>
                <dd>A statistical tool in cosmology that describes the distribution of matter in the Universe across different scales (represented by wave number $k$) and at different cosmic times (redshift $z$). It reveals how matter clusters and forms structures like galaxies and galaxy clusters.</dd>
                <dt>Microwave Background &mu;-Distortions</dt>
                <dd>Tiny deviations from the perfect blackbody spectrum of the Cosmic Microwave Background (CMB). These distortions can be generated by energy injections into the early Universe after recombination. Detecting them would provide unique insights into early cosmic processes not observable through CMB anisotropies alone. DFCM predicts a specific amplitude for these distortions.</dd>
                <dt>Scalar Field</dt>
                <dd>A field that assigns a scalar value (a single number) to every point in space and time. In physics, scalar fields are used to describe various phenomena, such as temperature distributions or the Higgs field. In DFCM, a scalar field is theorized to emerge from fractal metric fluctuations and drive the evolution of the spacetime dimension $\phi(z)$.</dd>
                <dt>SH0ES (Supernovae H0 for the Equation of State)</dt>
                <dd>An astronomical collaboration that uses observations of Type Ia Supernovae to measure the local expansion rate of the Universe, providing one of the most precise measurements of the Hubble Constant ($H_0$). DFCM's $H_0$ prediction aligns closely with SH0ES measurements.</dd>
                <dt>Sound Horizon ($r_s$)</dt>
                <dd>The maximum distance sound waves could travel in the early Universe before recombination. It acts as a "standard ruler" in cosmology, allowing scientists to measure distances and infer the Universe's expansion history from features in the Cosmic Microwave Background (CMB) and Baryon Acoustic Oscillations (BAO).</dd>
                <dt>Type Ia Supernovae (SNIa)</dt>
                <dd>A specific type of supernova that results from the complete destruction of a white dwarf star in a binary system. Because they have a consistent peak luminosity, they are often referred to as "standard candles" and are used to measure vast cosmic distances and infer the expansion history of the Universe.</dd>
            </dl>
        </div>

        <div id="ai_assistant" class="page">
            <section class="hero">
                <h1>DFCM AI Assistant</h1>
                <p>Ask our AI specialized in cosmology to understand the subtleties of the Dynamic Fractal Cosmological Model.</p>
            </section>

            <div class="chat-container">
                <div class="chat-header">
                    <i class="fas fa-robot"></i>
                    <h2>DFCM Cosmology Assistant</h2>
                </div>

                <div class="chat-messages" id="chat-messages">
                    <div class="message ai-message">
                        Hello! I am an AI assistant trained on the Dynamic Fractal Cosmology Model. How can I help you today? Ask me about "$\phi(z)$", "Hubble tension", or "BBN".
                    </div>
                </div>

                <div class="chat-input">
                    <input type="text" id="user-input" placeholder="Ask your question about cosmology..." autocomplete="off">
                    <button id="send-btn" onclick="sendMessage()">
                        <i class="fas fa-paper-plane"></i> Send
                    </button>
                </div>

                <div class="status-indicator">
                    <div class="status-dot connected" id="status-dot"></div>
                    <span id="status-text">Connected & Ready</span>
                </div>
            </div>
        </div>

        <footer>
            <div class="footer-content">
                <div class="social-links">
                    <a href="https://phi1618.space/github" target="_blank" title="GitHub Repository"><i class="fab fa-github"></i></a>
                    <a href="https://phi1618.space/orcid" target="_blank" title="ORCID Profile"><i class="fab fa-orcid"></i></a>
                    <a href="https://phi1618.space/x" target="_blank" title="X (Twitter)"><i class="fab fa-x-twitter"></i></a>
                    <a href="https://phi1618.space/zenedo" target="_blank" title="Zenodo Repository"><i class="fas fa-database"></i></a>
                </div>

                <a href="https://doi.org/10.5281/zenodo.15973540"><img src="https://zenodo.org/badge/DOI/10.5281/zenodo.15973540.svg" alt="DOI"></a>

                <p>The Dynamic Fractal Cosmological Model (DFCM) &copy; 2025 - All rights reserved</p>
                <p>A new paradigm to understand the universe</p>

                <span class="author-name">Sylvain Herbin</span>
                <p>herbinsylvain@protonmail.com</p>
            </div>
        </footer>
    </div>

    <script>
        // Create dynamic stars, supernova, and comet
        function createStars() {
    const starsContainer = document.getElementById('stars');
    const starsCount = 300;

    // Create existing stars
    for (let i = 0; i < starsCount; i++) {
        const star = document.createElement('div');
        star.classList.add('star');
        const size = Math.random() * 4;
        star.style.width = `${size}px`;
        star.style.height = `${size}px`;
        star.style.left = `${Math.random() * 100}%`;
        star.style.top = `${Math.random() * 100}%`;
        const duration = 2 + Math.random() * 6;
        const delay = Math.random() * 5;
        star.style.setProperty('--duration', `${duration}s`);
        star.style.setProperty('--delay', `${delay}s`);
        star.style.background = Math.random() > 0.9 ? 'linear-gradient(45deg, #ff5555, #ffaaaa)' : 'white';
        star.style.boxShadow = Math.random() > 0.8 ? '0 0 10px rgba(255, 100, 100, 0.5)' : 'none';
        starsContainer.appendChild(star);
    }

    // Create two supernovae with staggered delays
    for (let i = 0; i < 2; i++) {
        const supernova = document.createElement('div');
        supernova.classList.add('supernova');
        supernova.style.left = `${Math.random() * 80 + 10}%`; // Avoid edges
        supernova.style.top = `${Math.random() * 80 + 10}%`;
        supernova.style.animationDelay = `${i * 19 + Math.random() * 5}s`; // Staggered delays (0-5s, 19-24s)
        starsContainer.appendChild(supernova);
    }

    // Create a comet
    const comet = document.createElement('div');
    comet.classList.add('comet');
    comet.style.top = `${Math.random() * 50}%`; // Start in upper half
    comet.style.animationDelay = `${Math.random() * 10}s`; // Random delay
    starsContainer.appendChild(comet);
}

        // Navigate between pages
        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            document.getElementById(pageId).classList.add('active');
            document.querySelectorAll('nav a').forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('onclick') === `showPage('${pageId}')`) {
                    link.classList.add('active');
                }
            });
            window.scrollTo(0, 0);
        }

        // Send message to Grok 3 via Vercel
        async function sendMessage() {
            const userInput = document.getElementById('user-input');
            const message = userInput.value.trim();
            const sendBtn = document.getElementById('send-btn');
            const statusDot = document.getElementById('status-dot');
            const statusText = document.getElementById('status-text');

            if (message) {
                addMessage(message, 'user');
                userInput.value = '';
                sendBtn.disabled = true;
                userInput.disabled = true;
                statusDot.classList.remove('connected');
                statusDot.style.backgroundColor = 'var(--warning)';
                statusText.textContent = 'Processing...';

                const typingMessageDiv = addMessage('<div class="message-typing"><div class="typing-dot"></div><div class="typing-dot"></div><div class="typing-dot"></div></div>', 'ai', true);

                try {
                    // Call Vercel Function
                    const response = await fetch('https://dfcm-ai-api.vercel.app/api/chatbot', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({ message })
                    });

                    if (!response.ok) {
                        const errorData = await response.json();
                        console.error('Vercel Function error:', errorData);
                        throw new Error(errorData.error || 'Failed to get AI response.');
                    }

                    const data = await response.json();
                    const aiResponse = data.reply;

                    typingMessageDiv.remove();
                    addMessage(aiResponse, 'ai');

                } catch (error) {
                    console.error('Failed to send message to AI:', error);
                    typingMessageDiv.remove();
                    // Fallback: Google Custom Search link
                    const searchQuery = encodeURIComponent(message + ' site:arxiv.org | site:*.edu');
                    addMessage(`Sorry, an error occurred. Try another question or check search results: <a href="https://www.google.com/search?q=${searchQuery}" target="_blank">View results</a>`, 'ai');
                } finally {
                    sendBtn.disabled = false;
                    userInput.disabled = false;
                    userInput.focus();
                    statusDot.classList.add('connected');
                    statusDot.style.backgroundColor = 'var(--success)';
                    statusText.textContent = 'Connected & Ready';
                    MathJax.typeset(); // Refresh MathJax for equations
                }
            }
        }

        // Add message to chat
        function addMessage(text, sender, isHtml = false) {
            const chatMessages = document.getElementById('chat-messages');
            const messageDiv = document.createElement('div');
            messageDiv.classList.add('message');
            messageDiv.classList.add(sender + '-message');
            if (isHtml) {
                messageDiv.innerHTML = text;
            } else {
                messageDiv.textContent = text;
            }
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
            return messageDiv;
        }

        // Initialize
        window.onload = function() {
            createStars();
            document.getElementById('user-input').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    sendMessage();
                }
            });
            document.querySelector('nav a[onclick="showPage(\'ai_assistant\')"]').addEventListener('click', function() {
                setTimeout(() => {
                    document.getElementById('user-input').focus();
                }, 500);
            });

            // Initialize Chart.js for φ(z)
            const ctx = document.getElementById('phiZChart').getContext('2d');
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: [0, 0.5, 1, 1.5, 2, 3, 4, 5],
                    datasets: [
                        {
                            label: 'Dynamic φ(z)',
                            data: [2.85, 2.65, 2.45, 2.25, 2.05, 1.85, 1.75, 1.65], // Representative points for the graph
                            borderColor: '#6a5af9',
                            backgroundColor: 'rgba(106, 90, 249, 0.2)',
                            fill: true,
                            tension: 0.4
                        },
                        {
                            label: 'φ∞ = 1.618',
                            data: [1.618, 1.618, 1.618, 1.618, 1.618, 1.618, 1.618, 1.618],
                            borderColor: '#ff5555',
                            borderDash: [5, 5],
                            fill: false
                        }
                    ]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: { position: 'top' },
                        title: {
                            display: true,
                            text: 'Evolution of Fractal Dimension φ(z)',
                            color: '#f0f0ff',
                            font: { size: 18 }
                        }
                    },
                    scales: {
                        x: {
                            title: {
                                display: true,
                                text: 'Redshift (z)',
                                color: '#f0f0ff'
                            },
                            grid: { color: 'rgba(255, 255, 255, 0.1)' }
                        },
                        y: {
                            title: {
                                display: true,
                                text: 'φ(z)',
                                color: '#f0f0ff'
                            },
                            grid: { color: 'rgba(255, 255, 255, 0.1)' },
                            min: 1.5,
                            max: 3.1
                        }
                    }
                }
            });

            MathJax.typeset();
        };
    </script>
</body>
</html>
